# Cell

The `Cell` class is demonstrably the most important element of `grid_engine`. It is integral in the creation and interaction of the `grid`. The `Cell` class contains information which upon arrangement with other cells, can be used to create a rich and detailed environment suitable for a number of different uses. Cells should never be instantiated directly, but rather through an instance of the `grid_engine.grid.Grid` class. Instances of `Cell` may then be accessed through said `Grid` object.

## Base Properties

The following properties are present in all cell objects:

- `cell_index` (int): The index of the cell in the grid. This serves as a unique identifier for the cell. Cells are indexed from 0 to `grid.size - 1`. With the first cell, `a00001`(index 0) in the top left corner and the last cell, in the bottom right corner.
- `x` (int): The x-coordinate of the cell.
- `y` (int): The y-coordinate of the cell.
- `coordinates` (tuple): The coordinates of the cell in the form `(x, y)`.
- `designation` (str): The designation of the cell. (e.g., 'a00001', 'R0132', etc.)
- `height` (int): The visual height of the cell.
- `width` (int): The visual width of the cell.
- `size` (int): The visual size of the cell.
- `row` (list): The row in which the cell resides, represented as a list of `Cell` objects.
- `row_name` (str): The name of the row in which the cell resides. (e.g., 'a', 'R', etc.)
- `row_index` (int): The index of the row in which the cell resides.
- `col` (list): The col(umn) in which the cell resides, represented as a list of `Cell` objects.
- `col_name` (str): The name of the column in which the cell resides. (e.g., '00395')
- `col_index` (int): The index of the column in which the cell resides.
- `quadrant` (list): The quadrant in which the cell resides, represented as a list of `Cell` objects.
- `quadrant_index` (int): The index of the quadrant in which the cell resides.
- `adjacent` (list): A list of all the cells adjacent to the current cell.
- `up` (Cell): The cell directly above the current cell.
- `down` (Cell): The cell below the current cell.
- `left` (Cell): The cell to the left of the current cell.
- `right` (Cell): The cell to the right of the current cell.
- `up_left` (Cell): The cell above and to the left of the current cell.
- `up_right` (Cell): The cell above and to the right of the current cell.
- `down_left` (Cell): The cell below and to the left of the current cell.
- `down_right` (Cell): The cell below and to the right of the current cell.
- `array` (numpy.ndarray): The cell and all its relevant properties in the form of a numpy array.
- `cost_in` (int): The cost to enter the cell.
- `cost_out` (int): The cost to exit the cell.

## Secondary Properties

The following properties are present in cell objects relating to terrain data:

- `terrain_str` (str): The string representation of the terrain type (`GRASS`, `OCEAN`, etc.).
- `terrain_raw` (float): The raw value of the terrain usually between 0 and 1, generated by a noise function.
- `terrain_int` (int): The integer value of the terrain, corresponding to a specific terrain type.
- `terrain_color` (tuple): The color of the terrain in RGB format, providing the grid is a graphical generation.
- `terrain_char` (str): The ASCII character representing the terrain, in the event of a grid being rendered with `curses` or similar.
- `terrain_shape` [DEPRECATED] (str): The shape of the object representing the cell/terrain. Will be removed in future versions.
- `clearance_up` (int): The clearance above the cell (i.e., the distance between the cell and the nearest above cell that is not passable).
- `clearance_down` (int): The clearance below the cell.
- `clearance_left` (int): The clearance to the left of the cell.
- `clearance_right` (int): The clearance to the right of the cell.
- `clearance_x` (int): The clearance on the x-axis of the cell(i.e., left and right).
- `clearance_y` (int): The clearance on the y-axis of the cell(i.e., up and down).
- `in_region` (bool): Whether the cell is in any region.
- `landmass_index`: The index of the landmass to which the cell belongs.
- `body_of_water_index`: The index of the body of water to which the cell belongs.
- `is_coastal`: Whether the cell is coastal, this includes the coast of oceans or lakes.

## Tertiary Properties

The following properties are related to the values stored in the `array` property. They are prefixed with the word `entry`.
Accessing and modifying these properties will be reflected in the `array` property and vice versa. Most of these properties 
have convenient methods for accessing and modifying them. For example, the `add_object` method can be used to add an object 
to the cell, thereby modifying the `entry_object` property and the `array` property.

- `entry` (array): A dictionary containing the base properties of the cell. This includes the following properties:
  - `designation` (str)
  - `cell_index` (int)
  - `row_index` (int)
  - `col_index` (int)
  - `ooordinates` (tuple)
  - `quadrant_index` (int)
  - `adjacent` (list)
  - `passable` (bool)
- `entry_terrain` (dict): A dictionary containing the terrain information for the cell. This includes the following properties:
  - `terrain_str` (str)
  - `terrain_raw` (float)
  - `terrain_int` (int)
  - `terrain_color` (tuple)
  - `terrain_char` (str)
  - `terrain_shape` (str)
- `entry_object` (dict): A dictionary containing the objects which may currently exist on the cell. This includes the following properties:
  - `items` (dict)
  - `obstructions` (dict)
  - `structures` (dict)
  - `features` (dict)
  - `resources` (dict)
  - `containers` (dict)
  - `doors` (dict)
  - `traps` (dict)
  - `switches` (dict)
- `entry_unit` (dict): A dictionary containing the units which may currently exist on the cell. This includes the following properties:
  - `players` (dict)
  - `npcs`  (dict)
  - `monsters` (dict)
  - `neutrals` (dict)
  - `pets` (dict)
  - `mounts`
- `entry_zone` (dict): A dictionary containing the zones which may currently exist on the cell. This includes the following properties:
  - `areas`
  - `locales`
  - `regions`
  - `cities`
  - `towns`
  - `villages`
- `entry_effect` (dict): A dictionary containing the effects which may currently exist on the cell. This includes the following properties:
  - `weather`
  - `lighting`
  - `environment`
  - `magic`
- `entry_fow` (dict): A dictionary containing the fog of war information for the cell. This includes the following properties:
  - `visibility`
  - `explored`
  - `seen`
  - `hidden`

## Methods

- `__init__(self, x, y, designation, height, width, row=None, col=None, quadrant=None)`: The constructor for the Cell class.
- `__repr__(self)`: The representation of the cell. For example, 'a00001'.
- `add_object(self, grid_object)`: Adds an object to the cell.
- `add_unit(self, unit)`: Adds a unit to the cell.
- `add_zone(self, zone)`: Adds a zone to the cell.
- `build(self, orientation)`: Constructs a wall-like grid structure on the cell in the specified orientation.
- `dig(self)`: if the cell is unpassable, dig is meant to emulate the removal of said obstacle.
- `get_diagonal(self, xaxis, yaxis, distance)`: Returns a list of cells that are diagonal to the current cell at a specified distance in a specified direction.
- `get_groups(self)`: Returns a list of all the groups to which the cell belongs.
- `get_region(self)`: Returns the region to which the cell belongs.
- `get_clearance_zone(self)` (list): Returns a list of passable cells which surround the current cell.
- `in_neighborhood(self, neighbor)`: Returns True if the cell is in the neighborhood of the specified cell.
- `join_group(self, group)`: Adds the cell to the specified group.
- `leave_group(self, group)`: Removes the cell from the specified group.
- `on_construct(self)`: A method that is called when a construction is completed on the cell.
- `on_destruct(self)`: A method that is called when a destruction is completed on the cell.
- `on_divest(self)`: Sets the cell as unentitled. 
- `on_entitle(self)`: Sets the cell as entitled.
- `on_occupy(self)`: A method that is called when a cell becomes occupied.
- `on_vacate(self)`: A method that is called when a cell is no longer occupied.
- `recv_occupant(self, occupant)`: Receives an occupant signal from a GridEntity.
- `remove_object(self, grid_object)`: Removes an object from the cell.
- `remove_unit(self, unit)`: Removes a unit from the cell.

## Usage

```python
import grid_engine as ge

grid = ge.grid.Grid()

cell = grid.random_cell()

print(cell)
```
